<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Obras de Promoção Humana</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Função para adicionar novos campos de ação
        function adicionarAcao() {
            const container = document.getElementById('acoes-container');
            const novaAcao = document.createElement('div');
            novaAcao.classList.add('bg-gray-100', 'p-4', 'rounded-lg', 'mb-4', 'space-y-4');
            novaAcao.innerHTML = `
                <h3 class="text-lg font-semibold text-gray-800">Nova Ação de Promoção Humana</h3>

                <label for="nome_acao" class="block text-gray-700 font-medium mb-2">Nome da Ação de Promoção Humana:</label>
                <input type="text" name="nome_acao[]" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: Distribuição de Sopão">

                <label for="ano_criacao" class="block text-gray-700 font-medium mt-4 mb-2">Ano de Criação:</label>
                <input type="number" name="ano_criacao[]" class="w-full p-3 border border-gray-300 rounded-lg" required min="1900" max="2100">

                <label for="quantidade_pessoas" class="block text-gray-700 font-medium mt-4 mb-2">Atende Quantas Pessoas?</label>
                <input type="number" name="quantidade_pessoas[]" class="w-full p-3 border border-gray-300 rounded-lg" required min="1">

                <label for="frequencia_acao" class="block text-gray-700 font-medium mt-4 mb-2">Frequência da Ação:</label>
                <select name="frequencia_acao[]" class="w-full p-3 border border-gray-300 rounded-lg" required>
                    <option value="diária">Diária</option>
                    <option value="semanal">Semanal</option>
                    <option value="mensal">Mensal</option>
                    <option value="anual">Anual</option>
                    <option value="pontual">Pontual</option>
                </select>

                <label for="quantidade_voluntarios" class="block text-gray-700 font-medium mt-4 mb-2">Quantos Voluntários Estão Envolvidos?</label>
                <input type="number" name="quantidade_voluntarios[]" class="w-full p-3 border border-gray-300 rounded-lg" required min="1">

                <label for="resumo_acao" class="block text-gray-700 font-medium mt-4 mb-2">Resumo da Ação:</label>
                <textarea name="resumo_acao[]" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Descreva de forma breve como a ação é realizada"></textarea>

                <label for="forma_ajudar" class="block text-gray-700 font-medium mt-4 mb-2">Forma de Ajudar:</label>
                <textarea name="forma_ajudar[]" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: Doações de alimentos, trabalho voluntário, etc."></textarea>
            `;
            container.appendChild(novaAcao);
        }

        // Função para capturar dados do formulário e gerar JSON
        function capturarDados(event) {
            event.preventDefault(); // Impede o envio do formulário para o servidor

            const formData = new FormData(document.querySelector('form'));
            let dados = {};

            // Captura os dados da expressão eclesial
            dados.expressao_eclesial = {
                nome: formData.get('nome_eclesial'),
                endereco: formData.get('endereco'),
                telefone: formData.get('telefone'),
                email: formData.get('email'),
                site: formData.get('site'),
                instagram: formData.get('instagram'),
                outros: formData.get('outros')
            };

            // Captura as ações de promoção humana
            dados.acoes = [];
            const nomesAcoes = formData.getAll('nome_acao[]');
            const anosCriacao = formData.getAll('ano_criacao[]');
            const quantidadesPessoas = formData.getAll('quantidade_pessoas[]');
            const frequencias = formData.getAll('frequencia_acao[]');
            const quantidadesVoluntarios = formData.getAll('quantidade_voluntarios[]');
            const resumosAcoes = formData.getAll('resumo_acao[]');
            const formasAjudar = formData.getAll('forma_ajudar[]');

            // Preenche o array de ações
            for (let i = 0; i < nomesAcoes.length; i++) {
                dados.acoes.push({
                    nome: nomesAcoes[i],
                    ano_criacao: anosCriacao[i],
                    quantidade_pessoas: quantidadesPessoas[i],
                    frequencia_acao: frequencias[i],
                    quantidade_voluntarios: quantidadesVoluntarios[i],
                    resumo_acao: resumosAcoes[i],
                    forma_ajudar: formasAjudar[i]
                });
            }

            // Converte os dados para JSON e exibe no console
            console.log(JSON.stringify(dados, null, 2));
        }
    </script>
</head>
<body class="bg-gray-100 py-12">

<!-- Cabeçalho com o brasão e objetivo do cadastro -->
<header class="bg-blue-800 text-white py-6 mb-8">
    <div class="max-w-4xl mx-auto flex items-center justify-center space-x-4">
        <img src="brasao-arqfor.svg" alt="Brasão da Arquidiocese de Fortaleza" class="h-32">
        <div class="text-center">
            <h1 class="text-3xl font-semibold">Cadastro de Obras de Promoção Humana</h1>
            <p class="mt-2 text-lg">Este formulário tem como objetivo catalogar as ações de promoção humana realizadas pelas expressões eclesiais da Arquidiocese de Fortaleza, permitindo o acompanhamento e apoio das iniciativas sociais que beneficiam a comunidade.</p>
        </div>
    </div>
</header>

<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Cadastro de Obras de Promoção Humana</h2>
    <form onsubmit="capturarDados(event)">
        <!-- Dados da expressão eclesial -->
        <fieldset class="mb-8">
            <legend class="text-xl font-semibold text-gray-800 mb-4">Dados da Expressão Eclesial</legend>
            
            <label for="nome_eclesial" class="block text-gray-700 font-medium mb-2">Nome da Expressão Eclesial:</label>
            <input type="text" id="nome_eclesial" name="nome_eclesial" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: Paróquia São José, Pastoral, Nova Comunidade , Serviço , Movimento etc">

            <label for="endereco" class="block text-gray-700 font-medium mt-4 mb-2">Endereço Completo:</label>
            <input type="text" id="endereco" name="endereco" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: Rua X, nº 123, Fortaleza - CE">

            <label for="telefone" class="block text-gray-700 font-medium mt-4 mb-2">Telefone:</label>
            <input type="tel" id="telefone" name="telefone" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: (85) 1234-5678">

            <label for="email" class="block text-gray-700 font-medium mt-4 mb-2">Email:</label>
            <input type="email" id="email" name="email" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: contato@paroquiasaojose.org">

            <label for="site" class="block text-gray-700 font-medium mt-4 mb-2">Site:</label>
            <input type="url" id="site" name="site" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: www.paroquiasaojose.org">

            <label for="instagram" class="block text-gray-700 font-medium mt-4 mb-2">Instagram:</label>
            <input type="text" id="instagram" name="instagram" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: @paroquiasaojose">
            
            <label for="outros" class="block text-gray-700 font-medium mt-4 mb-2">Outros:</label>
            <input type="text" id="outros" name="outros" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: Facebook, WhatsApp, etc.">
        </fieldset>

        <!-- Dados das Ações de Promoção Humana -->
        <fieldset class="mb-8">
            <legend class="text-xl font-semibold text-gray-800 mb-4">Ações de Promoção Humana</legend>
            <div id="acoes-container" class="space-y-4">
                <!-- Ação padrão (uma ação inicial) -->
                <div class="bg-gray-100 p-4 rounded-lg space-y-4">
                    <h3 class="text-lg font-semibold text-gray-800">Nova Ação de Promoção Humana</h3>

                    <label for="nome_acao" class="block text-gray-700 font-medium mb-2">Nome da Ação de Promoção Humana:</label>
                    <input type="text" name="nome_acao[]" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: Distribuição de Sopão">

                    <label for="ano_criacao" class="block text-gray-700 font-medium mt-4 mb-2">Ano de Criação:</label>
                    <input type="number" name="ano_criacao[]" class="w-full p-3 border border-gray-300 rounded-lg" required min="1900" max="2100">

                    <label for="quantidade_pessoas" class="block text-gray-700 font-medium mt-4 mb-2">Atende Quantas Pessoas?</label>
                    <input type="number" name="quantidade_pessoas[]" class="w-full p-3 border border-gray-300 rounded-lg" required min="1">

                    <label for="frequencia_acao" class="block text-gray-700 font-medium mt-4 mb-2">Frequência da Ação:</label>
                    <select name="frequencia_acao[]" class="w-full p-3 border border-gray-300 rounded-lg" required>
                        <option value="diária">Diária</option>
                        <option value="semanal">Semanal</option>
                        <option value="mensal">Mensal</option>
                        <option value="anual">Anual</option>
                        <option value="pontual">Pontual</option>
                    </select>

                    <label for="quantidade_voluntarios" class="block text-gray-700 font-medium mt-4 mb-2">Quantos Voluntários Estão Envolvidos?</label>
                    <input type="number" name="quantidade_voluntarios[]" class="w-full p-3 border border-gray-300 rounded-lg" required min="1">

                    <label for="resumo_acao" class="block text-gray-700 font-medium mt-4 mb-2">Resumo da Ação:</label>
                    <textarea name="resumo_acao[]" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Descreva de forma breve como a ação é realizada"></textarea>

                    <label for="forma_ajudar" class="block text-gray-700 font-medium mt-4 mb-2">Forma de Ajudar:</label>
                    <textarea name="forma_ajudar[]" class="w-full p-3 border border-gray-300 rounded-lg" required placeholder="Ex: Doações de alimentos, trabalho voluntário, etc."></textarea>
                </div>
            </div>
            <!-- Botão para adicionar mais ações -->
            <button type="button" onclick="adicionarAcao()" class="mt-4 bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600">Adicionar Nova Ação</button>
        </fieldset>

        <!-- Botão de envio -->
        <div class="text-center">
            <button type="submit" class="bg-green-500 text-white py-3 px-6 rounded-lg hover:bg-green-600">Cadastrar Ação</button>
        </div>
    </form>
</div>

</body>
</html>
